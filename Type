DECLARE
    TYPE T_INT_VARRAY IS VARRAY (3) OF INTEGER;
    INT_VARRAY T_INT_VARRAY := T_INT_VARRAY (NULL, NULL, NULL);
BEGIN
    DBMS_OUTPUT.PUT_LINE ('Varray Inicializou com valor nulo.');
    FOR I IN 1 .. 3
    LOOP
        DBMS_OUTPUT.PUT_LINE ('Varray ['|| I ||']: ' || INT_VARRAY (I));
    END LOOP;
    
    INT_VARRAY (1) := 1;
    INT_VARRAY (2) := 2;
    INT_VARRAY (3) := 3;
    DBMS_OUTPUT.PUT_LINE ('Varray Inicializou com valores.');
    FOR I IN 1 .. 3
    LOOP
        DBMS_OUTPUT.PUT_LINE ('Varray [' || I || ']: ' || INT_VARRAY (I));
    END LOOP;
END;
/


DECLARE
    TYPE T_INT_VARRAY IS VARRAY (10) OF INTEGER;
    INT_VARRAY T_INT_VARRAY := T_INT_VARRAY ();
BEGIN
    FOR I IN 1 .. 10
    LOOP
        INT_VARRAY.EXTEND;
        INT_VARRAY (I) := I;
        DBMS_OUTPUT.PUT_LINE ('Varray [' || I || ']: ' || INT_VARRAY (I));
    END LOOP;
    DBMS_OUTPUT.PUT_LINE ('Count: ' || INT_VARRAY.COUNT);
END;
/

DECLARE
    TYPE T_INT_TABLE IS TABLE OF INTEGER;
    INT_TABLE T_INT_TABLE := T_INT_TABLE ();
BEGIN
    FOR I IN 1 .. 1000
    LOOP
        INT_TABLE.EXTEND;
        INT_TABLE (I) := I;
        DBMS_OUTPUT.PUT_LINE ('Table [' || I || ']: ' || INT_TABLE (I));
    END LOOP;
    DBMS_OUTPUT.PUT_LINE ('Count: ' || INT_TABLE.COUNT);
END;
/

CREATE OR REPLACE TYPE T_VARCHAR_TAB AS TABLE OF VARCHAR2 (50);
/
CREATE OR REPLACE PROCEDURE PRC_TYPE
IS
    CURSOR C1 IS SELECT DEPARTMENT_NAME FROM DEPARTMENTS;
    VAR_TABLE T_VARCHAR_TAB := T_VARCHAR_TAB();
    V2 VARCHAR2(30);
BEGIN
    OPEN C1;
    FOR I IN 1..100
    LOOP
        VAR_TABLE.EXTEND;
        VAR_TABLE(I) := 'Counter: '|| I ||' : '|| sysdate;
        DBMS_OUTPUT.PUT_LINE ('Table ['|| I || ']: ' || VAR_TABLE(I));
        FETCH C1 INTO V2;
        INSERT INTO TESTETRES VALUES(I, V2);
    END LOOP;
    DBMS_OUTPUT.PUT_LINE ('Count : '|| VAR_TABLE.COUNT);
END;
/


CREATE OR REPLACE FUNCTION FCT_DROGA
RETURN T_VARCHAR_TAB
IS
    CURSOR S1 IS SELECT DEPARTMENT_NAME FROM DEPARTMENTS;
    V1 VARCHAR2(50);
    V2 NUMBER;
BEGIN
    SELECT COUNT(*) INTO V2 FROM DEPARTMENTS;
    OPEN S1;
    FOR I IN 1.. V2
    LOOP
        FETCH S1 INTO V1;
        DBMS_OUTPUT.PUT_LINE(V1);
    END LOOP;
    CLOSE S1;
END;
/
